<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TacticEYE2 - An√°lisis de F√∫tbol</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <nav class="navbar navbar-dark bg-dark">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">‚öΩ TacticEYE2 - An√°lisis de Partidos</span>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Secci√≥n de Upload -->
        <div id="upload-section" class="card shadow-sm mb-4">
            <div class="card-body">
                <h5 class="card-title">üìπ Subir Video</h5>
                <div class="mb-3">
                    <input class="form-control" type="file" id="videoFile" accept="video/*">
                </div>
                <button class="btn btn-primary" id="uploadBtn" onclick="uploadVideo()">
                    Subir y Analizar
                </button>
                <div id="upload-status" class="mt-3"></div>
            </div>
        </div>

        <!-- Barra de Progreso -->
        <div id="progress-section" class="card shadow-sm mb-4" style="display: none;">
            <div class="card-body">
                <h5 class="card-title">üìä Progreso del An√°lisis</h5>
                <div class="progress" style="height: 30px;">
                    <div id="progressBar" class="progress-bar progress-bar-striped progress-bar-animated" 
                         role="progressbar" style="width: 0%">0%</div>
                </div>
                <p id="progress-text" class="mt-2 text-center">Iniciando an√°lisis...</p>
            </div>
        </div>

        <!-- Resultados -->
        <div id="results-section" style="display: none;">
            <div class="row">
                <!-- Resumen de Estad√≠sticas -->
                <div class="col-md-4 mb-4">
                    <div class="card shadow-sm h-100">
                        <div class="card-body">
                            <h5 class="card-title">üìà Resumen</h5>
                            <div id="summary-stats">
                                <div class="stat-item">
                                    <strong>Duraci√≥n:</strong> <span id="total-time">-</span>
                                </div>
                                <div class="stat-item">
                                    <strong>Total Frames:</strong> <span id="total-frames">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Posesi√≥n por Equipo -->
                <div class="col-md-8 mb-4">
                    <div class="card shadow-sm h-100">
                        <div class="card-body">
                            <h5 class="card-title">‚öΩ Posesi√≥n del Bal√≥n</h5>
                            <canvas id="possessionChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Pases por Equipo -->
                <div class="col-md-6 mb-4">
                    <div class="card shadow-sm h-100">
                        <div class="card-body">
                            <h5 class="card-title">üéØ Pases Completados</h5>
                            <canvas id="passesChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Tiempo de Posesi√≥n -->
                <div class="col-md-6 mb-4">
                    <div class="card shadow-sm h-100">
                        <div class="card-body">
                            <h5 class="card-title">‚è±Ô∏è Tiempo de Posesi√≥n</h5>
                            <div class="possession-time">
                                <div class="team-possession team-0">
                                    <h3>Equipo 0</h3>
                                    <div class="possession-bar">
                                        <div id="possession-bar-0" class="bar bar-team-0" style="width: 0%"></div>
                                    </div>
                                    <p class="possession-stats">
                                        <span id="possession-percent-0">0%</span> - 
                                        <span id="possession-time-0">0s</span>
                                    </p>
                                </div>
                                <div class="team-possession team-1">
                                    <h3>Equipo 1</h3>
                                    <div class="possession-bar">
                                        <div id="possession-bar-1" class="bar bar-team-1" style="width: 0%"></div>
                                    </div>
                                    <p class="possession-stats">
                                        <span id="possession-percent-1">0%</span> - 
                                        <span id="possession-time-1">0s</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Timeline de Posesi√≥n -->
                <div class="col-12 mb-4">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h5 class="card-title">üìä Timeline de Posesi√≥n</h5>
                            <canvas id="timelineChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="/static/app.js"></script>
</body>
</html>
